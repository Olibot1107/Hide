<style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    #delay {
      position: fixed;
      top: 20px;
      right: 20px;
      background: rgba(0, 0, 0, 0.6);
      backdrop-filter: blur(8px);
      color: #00ff9c;
      padding: 12px 18px;
      font-size: 20px;
      border-radius: 12px;
      font-weight: bold;
      box-shadow: 0 0 10px #00ff9c88, 0 0 20px #00ff9c44;
      z-index: 1000;
      transition: all 0.3s ease;
    }
</style>
<div id="delay">Active</div>
<script>
  const delayBox = document.getElementById('delay');
  const wait = ms => new Promise(res => setTimeout(res, ms));

  let last = performance.now();
  let fps = 60;
  let frameTimes = [];
  let flash = false;
  let ran = false;

  function forceRedirect(url) {
    if (!ran) { 
      ran = true;
    } else {
      console.log("Already redirected.");
      return;
    }
    const metaTag = document.createElement("meta");
    metaTag.httpEquiv = "refresh";
    metaTag.content = "0; url=" + url;
    document.head.appendChild(metaTag);
  }

  function sos() {
    document.getElementById("overlay").style.display = "block";
  }

  function loop(now) {
    const diff = now - last;

    // Update frame time history and estimate FPS
    frameTimes.push(diff);
    if (frameTimes.length > 60) frameTimes.shift(); // keep last 60 frames
    const avgFrameTime = frameTimes.reduce((a, b) => a + b, 0) / frameTimes.length;
    fps = 1000 / avgFrameTime;

    const expectedFrameTime = 1000 / fps;
    const maxAllowedDelay = expectedFrameTime * 2.5; // allow 2.5x frame duration

    if (diff > maxAllowedDelay) {
      const secs = (diff / 1000).toFixed(3);
      delayBox.textContent = `ðŸ”´ Delay: ${secs}s`;

      sos();
      forceRedirect("https://olibot1107.github.io/Hide/");
      flash = true;
    } else {
      delayBox.textContent = `âœ… Active (${Math.round(fps)} FPS)`;
      flash = false;
      last = now;
    }

    requestAnimationFrame(loop);
  }

  requestAnimationFrame(loop);
</script>
 <! â€“â€“ overlay so it wont show the game while its hideing yeeeeeeeeeeeeeeeeeeeee â€“â€“>
 <style> #overlay { position: fixed; display: none; width: 100%; height: 100%; background-color: rgba(255,255,255,1); z-index: 2; } </style> <div id="overlay"></div>
</body>
</html>
