<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>erm</title>
  <script id="titleScript" src="https://olibot1107.github.io/Hide/title.js"></script>
  <style>
    html, body {
      margin: 0; 
      padding: 0; 
      width: 100%; 
      height: 100%; 
      overflow: hidden;
    }
    #iframe {
      position: fixed;
      top: 0; 
      left: 0; 
      width: 100vw;
      height: 100vh;
      border: none;
      z-index: 9999;
    }
    #error {
      position: fixed;
      top: 0; left: 0;
      width: 100vw; height: 100vh;
      display: none;
      justify-content: center;
      align-items: center;
      background: white;
      color: red;
      font-size: 1.5em;
      z-index: 10000;
      text-align: center;
      padding: 20px;
    }
  </style>
</head>
<body>
  <iframe id="iframe"></iframe>
  <div id="error">hi soz i cant find this OH WAIT THIS SHIT DONT EXIST</div>

  <script>
    const params = new URLSearchParams(window.location.search);
    const url = params.get("url");

    const error = document.getElementById("error");
    const iframe = document.getElementById("iframe");

    if (!url) {
      error.style.display = "flex";
      error.innerText = "⚠️ No URL provided.";
    } else {
      const fullUrl = url.startsWith("http") ? url : "https://" + url;
      iframe.srcdoc = `
        <!DOCTYPE html>
        <html>
        <body>
          <script>
            setTimeout(() => alert("Hello from iframe!"), 100);
          <\/script>
        </body>
        </html>
      `;
      const errorTimeout = setTimeout(() => {
        window.location.href = "https://olibot1107.github.io/Hide/";
      }, 4000);

      iframe.onload = () => {
        clearTimeout(errorTimeout);

        try {
          const frame = iframe.contentWindow;
          const originalAlert = frame.alert;

          frame.alert = function (msg) {
            // Dispatch custom event before alert
            document.dispatchEvent(new CustomEvent("frameAlertTriggered", {
              detail: { message: msg, status: "started" }
            }));

            originalAlert(msg); // Show the alert

            // Dispatch after alert finishes
            document.dispatchEvent(new CustomEvent("frameAlertTriggered", {
              detail: { message: msg, status: "done" }
            }));
          };
        } catch (e) {
          console.warn("Cannot override alert in iframe:", e);
        }
      };
    }

    // Listen to alert triggers
    document.addEventListener("frameAlertTriggered", (event) => {
      const { status } = event.detail;
      const script = document.getElementById("titleScript");

      if (status === "started" && script) {
      } else if (status === "done") {
      }
    });
  </script>
</body>
</html>
